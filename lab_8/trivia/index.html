<!DOCTYPE html>

<html lang="en">
    <head>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
        <link href="styles.css" rel="stylesheet">
        <title>Trivia!</title>
        <script>
            // TODO: Add code to check answers to questions
            document.addEventListener('DOMContentLoaded', () => {
                let btnAnswers = document.querySelectorAll('button:not(.check-answer-btn)');

                // Part 1 logic
                let feedbackText1 = document.querySelector('.feedback-text.part-1');

                [...btnAnswers].forEach((btnNode) => {
                    btnNode.addEventListener('click', (event) => {
                         // user interaction handle
                        if (event.target.innerText == '1 people per 6 sheep') {
                            btnNode.classList.toggle('correct');
                            feedbackText1.innerText = 'Correct!';
                        }else {
                            btnNode.classList.toggle('incorrect');
                            feedbackText1.innerText = 'Incorrect';
                        }

                        // if node have no class then set feedbackText1 to empty
                        if (!btnNode.classList.contains('incorrect') && !btnNode.classList.contains('correct')) {
                            feedbackText1.innerText = '';
                        }

                        // inactive another active nodes
                        let activeNodes = document.querySelectorAll('.correct, .incorrect');
                        if (activeNodes.length >= 2) {
                            [...activeNodes].forEach((activeNode) => {
                                if (!(event.target == activeNode)) {
                                    activeNode.classList.remove('correct');
                                    activeNode.classList.remove('incorrect');
                                }
                            });
                        }
                    });
                });

                // Part 2 logic
                let feedbackText2 = document.querySelector('.feedback-text.part-2');
                let inputNode = document.querySelector('input');
                let checkBtn = document.querySelector('.check-answer-btn');

                // remove class if user input data
                console.log([inputNode])
                inputNode.oninput = () => {
                    inputNode.classList.remove('incorrect');
                    inputNode.classList.remove('correct');
                    feedbackText2.innerText = '';
                }

                // check answer from user
                checkBtn.addEventListener('click', (event) => {
                    let answer = inputNode.value;

                    if (answer.trim().toLowerCase() === 'switzerland') {
                        inputNode.classList.add('correct');
                        inputNode.classList.remove('incorrect');
                        feedbackText2.innerText = 'Correct!';
                    }else {
                        inputNode.classList.add('incorrect');
                        inputNode.classList.remove('correct');
                        feedbackText2.innerText = 'Incorrect';
                    }
                });
            });
        </script>
    </head>
    <body>
        <div class="header">
            <h1>Trivia!</h1>
        </div>

        <div class="container">
            <div class="section">
                <h2>Part 1: Multiple Choice </h2>
                <hr>
                <!-- TODO: Add multiple choice question here -->
                <h3>What is the approximate ratio of people to sheep in New Zealand?</h3>
                <button type="button" id="btn-answer-1">6 people per 1 sheep</button>
                <button type="button" id="btn-answer-2">3 people per 1 sheep</button>
                <button type="button" id="btn-answer-3">1 people per 1 sheep</button>
                <button type="button" id="btn-answer-4">1 people per 3 sheep</button>
                <button type="button" id="btn-answer-5">1 people per 6 sheep</button>

                <p class="feedback-text part-1"></p>
            </div>

            <div class="section">
                <h2>Part 2: Free Response</h2>
                <hr>
                <!-- TODO: Add free response question here -->
                <h3>In which country is it illegal to own only one guinea pig, as a lone guinea pig might be get lonely?</h3>
                <input type="text">
                <button type="button" class="check-answer-btn">Check Answer</button>
                <p class="feedback-text part-2"></p>
            </div>
        </div>
    </body>
</html>
